language: node_js

node_js: stable

cache:
  directories:
    - node_modules

install:
  - npm install
  - npm i -g hexo

script:
  - hexo clean
  - hexo g

  - cd ./public
  - touch CNAME
  - echo "cosamuel.tech" >> CNAME
  - cd ..
  - hexo d

  # - git init
  # - git add .
  # - git commit -m "Site Update:`date +' %Y-%m-%d %H:%m:%S'`"
  # - git push --force --quiet "https://$GITHUB_TOKEN@github.com/CooSamuel/CooSamuel.github.io.git" master:master

# deploy:
#   provider: 
#   github-token: $GITHUB_TOKEN
#   api_key: $GITHUB_TOKEN
#   file: "./public"
#   skip_cleanup: true
#   on:
#     branch: master
